<!DOCTYPE html><html><head><script type="text/javascript" class="jsx-707554062">
          let maxAttempts = 0;

          function loadBevySnake() {
            setTimeout(function() {
            var element = document.getElementById('bevy-portal');
                  if (element) {
                    console.log('Element with id "bevy-portal" exists. Adding script tag.');

                  var script = document.createElement('script');
                  script.type = 'module';
                  script.src = '../static/load-bevy-snake.js';
                  document.head.appendChild(script);
            } else {
                    console.log('Element with id "bevy-portal" does not exist.');
                    maxAttempts++;
                    if (maxAttempts<15) loadBevySnake();
            }
          }, 500);
        }

        loadBevySnake();
      </script><script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=UA-154810525-2" class="jsx-707554062"></script><script type="text/javascript" class="jsx-707554062">
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'UA-154810525-2');
        </script><script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=G-BZKS5D8HPF" class="jsx-707554062"></script><script type="text/javascript" class="jsx-707554062">
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-BZKS5D8HPF');
        </script><meta charSet="utf-8" class="jsx-707554062"/><meta name="viewport" content="width=device-width, initial-scale=1" class="jsx-707554062"/><link rel="manifest" href="/site.webmanifest" class="jsx-707554062"/><link rel="apple-touch-icon" href="/icon.png" class="jsx-707554062"/><meta name="theme-color" content="#fff" class="jsx-707554062"/><title>15 Lines of Python and 1 Shortcut To Get ChatGPT Summaries of Anything | Brad Barrows&#x27; Blog</title><meta name="description" content="Brad Barrows&#x27; Blog"/><link rel="canonical" href="https://bbarrows.com/posts/osx-shortcut-screenshot-to-text-chatgpt"/><meta property="og:site_name" content="Brad Barrows&#x27; Blog"/><meta property="og:url" content="https://bbarrows.com/posts/osx-shortcut-screenshot-to-text-chatgpt"/><meta property="og:title" content="15 Lines of Python and 1 Shortcut To Get ChatGPT Summaries of Anything | Brad Barrows&#x27; Blog"/><meta property="og:description" content="Brad Barrows&#x27; Blog"/><meta property="og:image" content="https://bbarrows.com/og_image.png"/><meta property="og:type" content="article"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":"https://bbarrows.com/posts/osx-shortcut-screenshot-to-text-chatgpt","headline":"15 Lines of Python and 1 Shortcut To Get ChatGPT Summaries of Anything","datePublished":"2024-10-04T00:00:00-07:00","author":"Brad Barrows","description":""}</script><meta name="next-head-count" content="20"/><link rel="preload" href="/_next/static/css/8e11f38ccf46f6277e39.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8e11f38ccf46f6277e39.css" data-n-g=""/><link rel="preload" href="/_next/static/css/08c00d6a07e310229cb0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/08c00d6a07e310229cb0.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/_next/static/chunks/webpack-f47d69457824065d04c3.js" defer=""></script><script src="/_next/static/chunks/framework-895f067827ebe11ffe45.js" defer=""></script><script src="/_next/static/chunks/main-d32200c037819e7e8fa0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-eae7af63eb651790e0a7.js" defer=""></script><script src="/_next/static/chunks/962-b2e3b32260744832b5cf.js" defer=""></script><script src="/_next/static/chunks/189-c81d9f1a8e879aa78b09.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bpost%5D-798896a96beb46d3eaba.js" defer=""></script><script src="/_next/static/oanNZLCnIS43J585lWF0R/_buildManifest.js" defer=""></script><script src="/_next/static/oanNZLCnIS43J585lWF0R/_ssgManifest.js" defer=""></script><style id="__jsx-2373991563">a.jsx-2373991563{color:inherit;-webkit-text-decoration:none;text-decoration:none;}a.jsx-2373991563:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><style id="__jsx-3058196896">.container.jsx-3058196896{position:fixed;width:38px;height:38px;cursor:pointer;top:1rem;left:1.25rem;z-index:2;background-color:rgba(255,255,255,0.7);}.meat.jsx-3058196896{position:absolute;width:28px;height:2px;background:#222;top:calc(50% - 2px / 2);left:calc(50% - 28px / 2);-webkit-transition:all 150ms ease-in;transition:all 150ms ease-in;}.meat-1.jsx-3058196896{-webkit-transform:translateY(-10px);-ms-transform:translateY(-10px);transform:translateY(-10px);}.meat-2.jsx-3058196896{width:calc(28px - 6px);}.meat-3.jsx-3058196896{-webkit-transform:translateY(10px);-ms-transform:translateY(10px);transform:translateY(10px);}.active.jsx-3058196896 .meat-1.jsx-3058196896{-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);}.active.jsx-3058196896 .meat-2.jsx-3058196896{opacity:0;}.active.jsx-3058196896 .meat-3.jsx-3058196896{-webkit-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg);}@media (min-width:769px){.container.jsx-3058196896{display:none;}}</style><style id="__jsx-4138737674">.container.jsx-4138737674{width:0;}ul.jsx-4138737674{opacity:0;width:100%;height:100vh;text-align:right;list-style:none;margin:0;padding:0;position:fixed;top:0;background-color:#fff;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;z-index:1;-webkit-transform:translateY(100%);-ms-transform:translateY(100%);transform:translateY(100%);-webkit-transition:opacity 200ms;transition:opacity 200ms;}.active.jsx-4138737674 ul.jsx-4138737674{opacity:1;-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);}li.jsx-4138737674{margin-bottom:1.75rem;font-size:2rem;padding:0 1.5rem 0 0;}li.jsx-4138737674:last-child{margin-bottom:0;}.active.jsx-4138737674{color:#222;}@media (min-width:769px){.container.jsx-4138737674{width:7rem;display:block;}ul.jsx-4138737674{opacity:1;width:7rem;top:auto;display:block;-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);}li.jsx-4138737674{font-size:1rem;padding:0;}}</style><style id="__jsx-3674465219">span.jsx-3674465219{color:#9b9b9b;}</style><style id="__jsx-255066894">a.jsx-255066894{display:inline-block;}a.jsx-255066894:not(:last-child){margin-right:2em;}</style><style id="__jsx-3618008669">p.jsx-3618008669{font-size:0.75rem;text-align:center;}</style><style id="__jsx-4153080612">.container.jsx-3387257903{display:block;max-width:60rem;width:100%;margin:0 auto;padding:0 1.5rem;box-sizing:border-box;z-index:0;}.metadata.jsx-3387257903 div.jsx-3387257903{display:inline-block;margin-right:0.5rem;}article.jsx-3387257903{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;}h1.jsx-3387257903{margin:0 0 0.5rem;font-size:2.25rem;}.tag-list.jsx-3387257903{list-style:none;text-align:right;margin:1.75rem 0 0 0;padding:0;}.tag-list.jsx-3387257903 li.jsx-3387257903{display:inline-block;margin-left:0.5rem;}.social-list.jsx-3387257903{margin-top:3rem;text-align:center;}@media (min-width:769px){.container.jsx-3387257903{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}</style><style id="__jsx-1699270818">.token.comment,.token.prolog,.token.doctype,.token.cdata,.token.plain-text{color:#6a737d;}.token.atrule,.token.attr-value,.token.keyword,.token.operator{color:#d73a49;}.token.property,.token.tag,.token.boolean,.token.number,.token.constant,.token.symbol,.token.deleted{color:#22863a;}.token.selector,.token.attr-name,.token.string,.token.char,.token.builtin,.token.inserted{color:#032f62;}.token.function,.token.class-name{color:#6f42c1;}.language-jsx .token.punctuation,.language-jsx .token.tag .token.punctuation,.language-jsx .token.tag .token.script,.language-jsx .token.plain-text{color:#24292e;}.language-jsx .token.tag .token.attr-name{color:#6f42c1;}.language-jsx .token.tag .token.class-name{color:#005cc5;}.language-jsx .token.tag .token.script-punctuation,.language-jsx .token.attr-value .token.punctuation:first-child{color:#d73a49;}.language-jsx .token.attr-value{color:#032f62;}.language-jsx span[class="comment"]{color:pink;}.language-html .token.tag .token.punctuation{color:#24292e;}.language-html .token.tag .token.attr-name{color:#6f42c1;}.language-html .token.tag .token.attr-value,.language-html .token.tag .token.attr-value .token.punctuation:not(:first-child){color:#032f62;}.language-css .token.selector{color:#6f42c1;}.language-css .token.property{color:#005cc5;}</style><style id="__jsx-707554062">.root.jsx-707554062{display:block;padding:4rem 0;box-sizing:border-box;height:100%;}
main.jsx-707554062{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;min-height:100%;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}
@media (min-width:769px){.root.jsx-707554062{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;}main.jsx-707554062{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;}}</style></head><body><div id="__next"><div class="jsx-707554062 root"><nav class="jsx-707554062"><div class="jsx-3058196896 container "><div class="jsx-3058196896 meat meat-1"></div><div class="jsx-3058196896 meat meat-2"></div><div class="jsx-3058196896 meat meat-3"></div></div><div class="jsx-4138737674 container "><ul class="jsx-4138737674"><li class="jsx-4138737674"><a class="jsx-4138737674 " href="/">about</a></li><li class="jsx-4138737674"><a class="jsx-4138737674 " href="/projects">projects</a></li><li class="jsx-4138737674"><a class="jsx-4138737674 active" href="/posts">blog</a></li></ul></div></nav><main class="jsx-707554062"><div class="jsx-3387257903 container"><article class="jsx-3387257903"><header class="jsx-3387257903"><h1 class="jsx-3387257903">15 Lines of Python and 1 Shortcut To Get ChatGPT Summaries of Anything</h1><div class="jsx-3387257903 metadata"><div class="jsx-3387257903"><time dateTime="2024-10-04T00:00:00-07:00" class="jsx-3674465219"><span class="jsx-3674465219">October 4, 2024</span></time></div><div class="jsx-3387257903"><span class="jsx-3674465219">Brad Barrows</span></div></div></header><div class="jsx-3387257903 content_content__1yuPc"><div><p><img src="/static/summarize.mov.gif" alt="An animated gif shortcut in action"/></p><div style="position:relative"><span style="position:absolute;margin-left:-1.5em;font-weight:300;font-size:1.5rem;color:#9b9b9b">#</span><h1 id="Taking%20Notes%20Quickly%20withOUT%20Local%20OCR%20and%20JUST%20ChatGPT" class="jsx-2373991563"><a href="#Taking%20Notes%20Quickly%20withOUT%20Local%20OCR%20and%20JUST%20ChatGPT" class="jsx-2373991563">Taking Notes Quickly withOUT Local OCR and JUST ChatGPT</a></h1></div><p>ChatGPT&#x27;s API is amazing. But it doesn&#x27;t support uploading images.
Or not directly at least. </p><p>You CAN base64 encode one though and send that along with your prompt.</p><p>So while I am learning about AI/Neural Networks/Deep Learning/etc, ironically, I needed some LLM help to get good searchable notes.</p><p>I was just taking screenshots of the videos I was watching and placing them in my Notion notes. But this sucks for a lot of reasons. Mainly I can&#x27;t search for anything and they can be harder to read than what I can get ChatGPT to generate.</p><p>So yes with the App you can go and take a screenshot and open the app and open the file and it&#x27;s this whole process.</p><p>But here is a no click, siri request away, automatic screenshot summarizer.
You say &quot;Summarize Screen&quot; and select the parts of the screen you want capture and the script will put the ChatGPT summary into your clipboard and let you know when it&#x27;s done.
I should probably remove say with a notification but I&#x27;ll get to that if it bothers me.</p><p>This is quick and dirty. So part 1.</p><div style="position:relative"><span style="position:absolute;margin-left:-1.5em;font-weight:300;font-size:1.5rem;color:#9b9b9b">#</span><h2 id="Python%20Script" class="jsx-2373991563"><a href="#Python%20Script" class="jsx-2373991563">Python Script</a></h2></div><pre><code class="language-python">#!/usr/bin/env python3

import requests
import os
import base64
from pathlib import Path
import subprocess


def capture_screenshot(output_file=&quot;screenshot.png&quot;):
    subprocess.run([&quot;screencapture&quot;, &quot;-s&quot;, output_file])
    return output_file

# Define the directory path
screenshots_dir = Path(os.path.expanduser(&#x27;~/Documents/Screenshots&#x27;))

screenshot_file = Path(os.path.join(screenshots_dir, &quot;scrnsht2md.png&quot;))
# print(&quot;file: &quot;, screenshot_file)
capture_screenshot(screenshot_file)

b64_img = &quot;&quot;
with open(screenshot_file, &#x27;rb&#x27;) as image_file:
    b64_img = base64.b64encode(image_file.read()).decode(&#x27;utf-8&#x27;)


api_key = os.environ[&#x27;OPENAI_API_KEY&#x27;]

question = &quot;Provide a markdown version of of the provided image, no summary is necessary, just try to represent the text in the image with markdown as accurately as possible&quot;

# This line is for providing base line instructions for any answer
RuleInstructions = &quot;You are an assistant that summarizes images and responds in markdown without the three tick marks that signify markdown. Just the inner markdown content&quot;

headers = {
  &quot;Content-Type&quot;: &quot;application/json&quot;,
  &quot;Authorization&quot;: f&quot;Bearer {api_key}&quot;
}

payload = {
  &quot;model&quot;: &quot;gpt-4o-mini&quot;,
  &quot;messages&quot;: [
    {&quot;role&quot;: &quot;system&quot;, &quot;content&quot;: f&quot;{RuleInstructions}.&quot;},
    {
      &quot;role&quot;: &quot;user&quot;,
      &quot;content&quot;: [
        {
          &quot;type&quot;: &quot;text&quot;,
          &quot;text&quot;: f&quot;{question}&quot;
        },
        {
          &quot;type&quot;: &quot;image_url&quot;,
          &quot;image_url&quot;: {
            &quot;url&quot;: f&quot;data:image/jpeg;base64,{b64_img }&quot;,
            &quot;detail&quot;: &quot;auto&quot;
          }
        }
      ]
    }
  ]
}

resp = requests.post(&quot;https://api.openai.com/v1/chat/completions&quot;, headers=headers, json=payload)

response_json = resp.json()

message_content = response_json[&#x27;choices&#x27;][0][&#x27;message&#x27;][&#x27;content&#x27;]

print(message_content)


def copy_to_clipboard(text):
    process = subprocess.Popen(
        &#x27;pbcopy&#x27;, env={&#x27;LANG&#x27;: &#x27;en_US.UTF-8&#x27;}, stdin=subprocess.PIPE)
    process.communicate(text.encode(&#x27;utf-8&#x27;))
    process.wait()  # Ensure the pbcopy process has completed
    subprocess.run([&#x27;say&#x27;, &#x27;done&#x27;])

copy_to_clipboard(message_content)
</code></pre><p>Place this in your home folder or preferably your local bin folder. Make it executable with chmod +x.</p><div style="position:relative"><span style="position:absolute;margin-left:-1.5em;font-weight:300;font-size:1.5rem;color:#9b9b9b">#</span><h2 id="Create%20the%20Shortcut" class="jsx-2373991563"><a href="#Create%20the%20Shortcut" class="jsx-2373991563">Create the Shortcut</a></h2></div><p><img src="/static/shortcut.png" alt="The shortcut"/></p><p><a href="https://www.icloud.com/shortcuts/109129b1d48b47e38718b1b102a383d1">Which you can get here</a></p><p>I&#x27;ts just a one action Shortcut with a shell script action. Default options. Command is:</p><p>I have my python script symlinked to <code>$HOME/bin/ssmd</code>  </p><pre><code class="language-bash">OPENAI_API_KEY=&quot;sk-YOURTOKEN&quot; /Users/your-name/bin/ssmd
</code></pre><div style="position:relative"><span style="position:absolute;margin-left:-1.5em;font-weight:300;font-size:1.5rem;color:#9b9b9b">#</span><h2 id="Customization" class="jsx-2373991563"><a href="#Customization" class="jsx-2373991563">Customization</a></h2></div><p>Change the python script prompt and ask it to add further details or relevant information.
Get creative.</p></div></div></article><footer class="jsx-3387257903"><div class="jsx-3387257903 social-list"><div class="jsx-255066894"><a title="LinkedIn" href="https://www.linkedin.com/in/bbarrows/}" target="_blank" rel="noopener" class="jsx-255066894"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#222"><path fill="#444" d="M5.453 11.099v15.484H.297V11.099h5.156zm.328-4.781q.016 1.141-.789 1.906t-2.117.766h-.031q-1.281 0-2.063-.766T0 6.318q0-1.156.805-1.914t2.102-.758 2.078.758.797 1.914zM24 17.708v8.875h-5.141v-8.281q0-1.641-.633-2.57t-1.977-.93q-.984 0-1.648.539t-.992 1.336q-.172.469-.172 1.266v8.641H8.296q.031-6.234.031-10.109t-.016-4.625l-.016-.75h5.141v2.25h-.031q.312-.5.641-.875t.883-.812 1.359-.68 1.789-.242q2.672 0 4.297 1.773t1.625 5.195z"></path></svg></a><a title="GitHub" href="https://github.com/bebrws/" target="_blank" rel="noopener" class="jsx-255066894"><svg viewBox="0 0 11 11" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2" width="24" height="24" fill="#222"><path d="M10.5 5.63a4.992 4.992 0 01-.977 3.016A5.018 5.018 0 016.998 10.5c-.12.022-.207.007-.263-.047a.267.267 0 01-.083-.2v-1.41c0-.432-.116-.748-.347-.948.253-.027.481-.067.683-.12.203-.054.412-.14.627-.26.216-.121.396-.27.54-.445.145-.176.263-.41.354-.702.091-.291.137-.626.137-1.005a1.95 1.95 0 00-.527-1.376c.164-.405.147-.86-.053-1.363-.125-.04-.305-.015-.54.074a3.59 3.59 0 00-.614.294l-.254.16a4.727 4.727 0 00-1.28-.174c-.44 0-.867.058-1.28.174a5.931 5.931 0 00-.284-.18 3.995 3.995 0 00-.557-.258c-.254-.1-.445-.13-.574-.09-.195.504-.211.958-.046 1.363a1.95 1.95 0 00-.527 1.376c0 .379.045.713.136 1.002.092.29.208.523.35.702.143.178.322.327.537.447.216.12.425.207.627.26.203.054.43.094.684.12-.178.161-.287.39-.327.689a1.32 1.32 0 01-.3.1 1.885 1.885 0 01-.38.034A.785.785 0 013 8.573a1.177 1.177 0 01-.37-.418 1.077 1.077 0 00-.324-.347.973.973 0 00-.33-.16l-.133-.02a.432.432 0 00-.194.03c-.035.02-.046.045-.033.077a.487.487 0 00.147.174l.046.033c.098.044.195.129.29.254.096.124.166.238.21.34l.067.154c.058.17.156.306.294.41.138.105.287.172.447.201.16.029.314.045.463.047a1.96 1.96 0 00.37-.024l.154-.026a62.026 62.026 0 00.007.955c0 .08-.03.147-.087.2-.058.054-.147.07-.267.047a5.018 5.018 0 01-2.524-1.854A4.992 4.992 0 01.255 5.63c0-.93.23-1.789.687-2.575a5.103 5.103 0 011.865-1.867A5.005 5.005 0 015.377.5c.93 0 1.787.23 2.572.688a5.103 5.103 0 011.864 1.867c.458.786.687 1.645.687 2.575z" fill="#444" fill-rule="nonzero"></path></svg></a></div></div><p class="jsx-3618008669">© 2021</p></footer></div></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"title":"15 Lines of Python and 1 Shortcut To Get ChatGPT Summaries of Anything","dateString":"2024-10-04","slug":"osx-shortcut-screenshot-to-text-chatgpt","description":"","tags":["Screenshots","OCR","ChatGPT"],"author":"bebrws","source":{"compiledSource":"\"use strict\";\n\nvar _excluded = [\"components\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"/static/summarize.mov.gif\",\n    \"alt\": \"An animated gif shortcut in action\"\n  })), mdx(\"h1\", null, \"Taking Notes Quickly withOUT Local OCR and JUST ChatGPT\"), mdx(\"p\", null, \"ChatGPT's API is amazing. But it doesn't support uploading images.\\nOr not directly at least. \"), mdx(\"p\", null, \"You CAN base64 encode one though and send that along with your prompt.\"), mdx(\"p\", null, \"So while I am learning about AI/Neural Networks/Deep Learning/etc, ironically, I needed some LLM help to get good searchable notes.\"), mdx(\"p\", null, \"I was just taking screenshots of the videos I was watching and placing them in my Notion notes. But this sucks for a lot of reasons. Mainly I can't search for anything and they can be harder to read than what I can get ChatGPT to generate.\"), mdx(\"p\", null, \"So yes with the App you can go and take a screenshot and open the app and open the file and it's this whole process.\"), mdx(\"p\", null, \"But here is a no click, siri request away, automatic screenshot summarizer.\\nYou say \\\"Summarize Screen\\\" and select the parts of the screen you want capture and the script will put the ChatGPT summary into your clipboard and let you know when it's done.\\nI should probably remove say with a notification but I'll get to that if it bothers me.\"), mdx(\"p\", null, \"This is quick and dirty. So part 1.\"), mdx(\"h2\", null, \"Python Script\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\"\n  }, \"#!/usr/bin/env python3\\n\\nimport requests\\nimport os\\nimport base64\\nfrom pathlib import Path\\nimport subprocess\\n\\n\\ndef capture_screenshot(output_file=\\\"screenshot.png\\\"):\\n    subprocess.run([\\\"screencapture\\\", \\\"-s\\\", output_file])\\n    return output_file\\n\\n# Define the directory path\\nscreenshots_dir = Path(os.path.expanduser('~/Documents/Screenshots'))\\n\\nscreenshot_file = Path(os.path.join(screenshots_dir, \\\"scrnsht2md.png\\\"))\\n# print(\\\"file: \\\", screenshot_file)\\ncapture_screenshot(screenshot_file)\\n\\nb64_img = \\\"\\\"\\nwith open(screenshot_file, 'rb') as image_file:\\n    b64_img = base64.b64encode(image_file.read()).decode('utf-8')\\n\\n\\napi_key = os.environ['OPENAI_API_KEY']\\n\\nquestion = \\\"Provide a markdown version of of the provided image, no summary is necessary, just try to represent the text in the image with markdown as accurately as possible\\\"\\n\\n# This line is for providing base line instructions for any answer\\nRuleInstructions = \\\"You are an assistant that summarizes images and responds in markdown without the three tick marks that signify markdown. Just the inner markdown content\\\"\\n\\nheaders = {\\n  \\\"Content-Type\\\": \\\"application/json\\\",\\n  \\\"Authorization\\\": f\\\"Bearer {api_key}\\\"\\n}\\n\\npayload = {\\n  \\\"model\\\": \\\"gpt-4o-mini\\\",\\n  \\\"messages\\\": [\\n    {\\\"role\\\": \\\"system\\\", \\\"content\\\": f\\\"{RuleInstructions}.\\\"},\\n    {\\n      \\\"role\\\": \\\"user\\\",\\n      \\\"content\\\": [\\n        {\\n          \\\"type\\\": \\\"text\\\",\\n          \\\"text\\\": f\\\"{question}\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"image_url\\\",\\n          \\\"image_url\\\": {\\n            \\\"url\\\": f\\\"data:image/jpeg;base64,{b64_img }\\\",\\n            \\\"detail\\\": \\\"auto\\\"\\n          }\\n        }\\n      ]\\n    }\\n  ]\\n}\\n\\nresp = requests.post(\\\"https://api.openai.com/v1/chat/completions\\\", headers=headers, json=payload)\\n\\nresponse_json = resp.json()\\n\\nmessage_content = response_json['choices'][0]['message']['content']\\n\\nprint(message_content)\\n\\n\\ndef copy_to_clipboard(text):\\n    process = subprocess.Popen(\\n        'pbcopy', env={'LANG': 'en_US.UTF-8'}, stdin=subprocess.PIPE)\\n    process.communicate(text.encode('utf-8'))\\n    process.wait()  # Ensure the pbcopy process has completed\\n    subprocess.run(['say', 'done'])\\n\\ncopy_to_clipboard(message_content)\\n\")), mdx(\"p\", null, \"Place this in your home folder or preferably your local bin folder. Make it executable with chmod +x.\"), mdx(\"h2\", null, \"Create the Shortcut\"), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"/static/shortcut.png\",\n    \"alt\": \"The shortcut\"\n  })), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.icloud.com/shortcuts/109129b1d48b47e38718b1b102a383d1\"\n  }, \"Which you can get here\")), mdx(\"p\", null, \"I'ts just a one action Shortcut with a shell script action. Default options. Command is:\"), mdx(\"p\", null, \"I have my python script symlinked to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"$HOME/bin/ssmd\"), \"  \"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"OPENAI_API_KEY=\\\"sk-YOURTOKEN\\\" /Users/your-name/bin/ssmd\\n\")), mdx(\"h2\", null, \"Customization\"), mdx(\"p\", null, \"Change the python script prompt and ask it to add further details or relevant information.\\nGet creative.\"));\n}\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003e\u003cimg src=\"/static/summarize.mov.gif\" alt=\"An animated gif shortcut in action\"/\u003e\u003c/p\u003e\u003cdiv style=\"position:relative\"\u003e\u003cspan style=\"position:absolute;margin-left:-1.5em;font-weight:300;font-size:1.5rem;color:#9b9b9b\"\u003e#\u003c/span\u003e\u003ch1 id=\"Taking%20Notes%20Quickly%20withOUT%20Local%20OCR%20and%20JUST%20ChatGPT\" class=\"jsx-2373991563\"\u003e\u003ca href=\"#Taking%20Notes%20Quickly%20withOUT%20Local%20OCR%20and%20JUST%20ChatGPT\" class=\"jsx-2373991563\"\u003eTaking Notes Quickly withOUT Local OCR and JUST ChatGPT\u003c/a\u003e\u003c/h1\u003e\u003c/div\u003e\u003cp\u003eChatGPT\u0026#x27;s API is amazing. But it doesn\u0026#x27;t support uploading images.\nOr not directly at least. \u003c/p\u003e\u003cp\u003eYou CAN base64 encode one though and send that along with your prompt.\u003c/p\u003e\u003cp\u003eSo while I am learning about AI/Neural Networks/Deep Learning/etc, ironically, I needed some LLM help to get good searchable notes.\u003c/p\u003e\u003cp\u003eI was just taking screenshots of the videos I was watching and placing them in my Notion notes. But this sucks for a lot of reasons. Mainly I can\u0026#x27;t search for anything and they can be harder to read than what I can get ChatGPT to generate.\u003c/p\u003e\u003cp\u003eSo yes with the App you can go and take a screenshot and open the app and open the file and it\u0026#x27;s this whole process.\u003c/p\u003e\u003cp\u003eBut here is a no click, siri request away, automatic screenshot summarizer.\nYou say \u0026quot;Summarize Screen\u0026quot; and select the parts of the screen you want capture and the script will put the ChatGPT summary into your clipboard and let you know when it\u0026#x27;s done.\nI should probably remove say with a notification but I\u0026#x27;ll get to that if it bothers me.\u003c/p\u003e\u003cp\u003eThis is quick and dirty. So part 1.\u003c/p\u003e\u003cdiv style=\"position:relative\"\u003e\u003cspan style=\"position:absolute;margin-left:-1.5em;font-weight:300;font-size:1.5rem;color:#9b9b9b\"\u003e#\u003c/span\u003e\u003ch2 id=\"Python%20Script\" class=\"jsx-2373991563\"\u003e\u003ca href=\"#Python%20Script\" class=\"jsx-2373991563\"\u003ePython Script\u003c/a\u003e\u003c/h2\u003e\u003c/div\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e#!/usr/bin/env python3\n\nimport requests\nimport os\nimport base64\nfrom pathlib import Path\nimport subprocess\n\n\ndef capture_screenshot(output_file=\u0026quot;screenshot.png\u0026quot;):\n    subprocess.run([\u0026quot;screencapture\u0026quot;, \u0026quot;-s\u0026quot;, output_file])\n    return output_file\n\n# Define the directory path\nscreenshots_dir = Path(os.path.expanduser(\u0026#x27;~/Documents/Screenshots\u0026#x27;))\n\nscreenshot_file = Path(os.path.join(screenshots_dir, \u0026quot;scrnsht2md.png\u0026quot;))\n# print(\u0026quot;file: \u0026quot;, screenshot_file)\ncapture_screenshot(screenshot_file)\n\nb64_img = \u0026quot;\u0026quot;\nwith open(screenshot_file, \u0026#x27;rb\u0026#x27;) as image_file:\n    b64_img = base64.b64encode(image_file.read()).decode(\u0026#x27;utf-8\u0026#x27;)\n\n\napi_key = os.environ[\u0026#x27;OPENAI_API_KEY\u0026#x27;]\n\nquestion = \u0026quot;Provide a markdown version of of the provided image, no summary is necessary, just try to represent the text in the image with markdown as accurately as possible\u0026quot;\n\n# This line is for providing base line instructions for any answer\nRuleInstructions = \u0026quot;You are an assistant that summarizes images and responds in markdown without the three tick marks that signify markdown. Just the inner markdown content\u0026quot;\n\nheaders = {\n  \u0026quot;Content-Type\u0026quot;: \u0026quot;application/json\u0026quot;,\n  \u0026quot;Authorization\u0026quot;: f\u0026quot;Bearer {api_key}\u0026quot;\n}\n\npayload = {\n  \u0026quot;model\u0026quot;: \u0026quot;gpt-4o-mini\u0026quot;,\n  \u0026quot;messages\u0026quot;: [\n    {\u0026quot;role\u0026quot;: \u0026quot;system\u0026quot;, \u0026quot;content\u0026quot;: f\u0026quot;{RuleInstructions}.\u0026quot;},\n    {\n      \u0026quot;role\u0026quot;: \u0026quot;user\u0026quot;,\n      \u0026quot;content\u0026quot;: [\n        {\n          \u0026quot;type\u0026quot;: \u0026quot;text\u0026quot;,\n          \u0026quot;text\u0026quot;: f\u0026quot;{question}\u0026quot;\n        },\n        {\n          \u0026quot;type\u0026quot;: \u0026quot;image_url\u0026quot;,\n          \u0026quot;image_url\u0026quot;: {\n            \u0026quot;url\u0026quot;: f\u0026quot;data:image/jpeg;base64,{b64_img }\u0026quot;,\n            \u0026quot;detail\u0026quot;: \u0026quot;auto\u0026quot;\n          }\n        }\n      ]\n    }\n  ]\n}\n\nresp = requests.post(\u0026quot;https://api.openai.com/v1/chat/completions\u0026quot;, headers=headers, json=payload)\n\nresponse_json = resp.json()\n\nmessage_content = response_json[\u0026#x27;choices\u0026#x27;][0][\u0026#x27;message\u0026#x27;][\u0026#x27;content\u0026#x27;]\n\nprint(message_content)\n\n\ndef copy_to_clipboard(text):\n    process = subprocess.Popen(\n        \u0026#x27;pbcopy\u0026#x27;, env={\u0026#x27;LANG\u0026#x27;: \u0026#x27;en_US.UTF-8\u0026#x27;}, stdin=subprocess.PIPE)\n    process.communicate(text.encode(\u0026#x27;utf-8\u0026#x27;))\n    process.wait()  # Ensure the pbcopy process has completed\n    subprocess.run([\u0026#x27;say\u0026#x27;, \u0026#x27;done\u0026#x27;])\n\ncopy_to_clipboard(message_content)\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003ePlace this in your home folder or preferably your local bin folder. Make it executable with chmod +x.\u003c/p\u003e\u003cdiv style=\"position:relative\"\u003e\u003cspan style=\"position:absolute;margin-left:-1.5em;font-weight:300;font-size:1.5rem;color:#9b9b9b\"\u003e#\u003c/span\u003e\u003ch2 id=\"Create%20the%20Shortcut\" class=\"jsx-2373991563\"\u003e\u003ca href=\"#Create%20the%20Shortcut\" class=\"jsx-2373991563\"\u003eCreate the Shortcut\u003c/a\u003e\u003c/h2\u003e\u003c/div\u003e\u003cp\u003e\u003cimg src=\"/static/shortcut.png\" alt=\"The shortcut\"/\u003e\u003c/p\u003e\u003cp\u003e\u003ca href=\"https://www.icloud.com/shortcuts/109129b1d48b47e38718b1b102a383d1\"\u003eWhich you can get here\u003c/a\u003e\u003c/p\u003e\u003cp\u003eI\u0026#x27;ts just a one action Shortcut with a shell script action. Default options. Command is:\u003c/p\u003e\u003cp\u003eI have my python script symlinked to \u003ccode\u003e$HOME/bin/ssmd\u003c/code\u003e  \u003c/p\u003e\u003cpre\u003e\u003ccode class=\"language-bash\"\u003eOPENAI_API_KEY=\u0026quot;sk-YOURTOKEN\u0026quot; /Users/your-name/bin/ssmd\n\u003c/code\u003e\u003c/pre\u003e\u003cdiv style=\"position:relative\"\u003e\u003cspan style=\"position:absolute;margin-left:-1.5em;font-weight:300;font-size:1.5rem;color:#9b9b9b\"\u003e#\u003c/span\u003e\u003ch2 id=\"Customization\" class=\"jsx-2373991563\"\u003e\u003ca href=\"#Customization\" class=\"jsx-2373991563\"\u003eCustomization\u003c/a\u003e\u003c/h2\u003e\u003c/div\u003e\u003cp\u003eChange the python script prompt and ask it to add further details or relevant information.\nGet creative.\u003c/p\u003e","scope":{"slug":"osx-shortcut-screenshot-to-text-chatgpt","title":"15 Lines of Python and 1 Shortcut To Get ChatGPT Summaries of Anything","date":"2024-10-04","author":"bebrws","tags":["Screenshots","OCR","ChatGPT"]}}},"__N_SSG":true},"page":"/posts/[post]","query":{"post":"osx-shortcut-screenshot-to-text-chatgpt"},"buildId":"oanNZLCnIS43J585lWF0R","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>