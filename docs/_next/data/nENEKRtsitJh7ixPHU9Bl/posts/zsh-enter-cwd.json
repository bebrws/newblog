{"pageProps":{"title":"Using ZSH Hook Functions to print current directory on return key","dateString":"2020-12-30","slug":"zsh-enter-cwd","description":"","tags":["zsh"],"author":"bebrws","source":{"compiledSource":"\"use strict\";\n\nvar _excluded = [\"components\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", null, \"ZSH Is Amazingly Powerful - Some More\"), mdx(\"p\", null, \"This function will keep track of the commands entered. Including the previous command.\"), mdx(\"p\", null, \"When the command is an empty string then it will provide a directory listing.\"), mdx(\"p\", null, \"I am finding this to be useful when used along with the key binding I posted for changing to my repository directories.\"), mdx(\"p\", null, \"Now, after I use my \\\"change to a repository directory\\\" keybinding, I am able to hit enter right away, which I had to anyway to get the new prompt line to show up, and I am now given a directory listing.\"), mdx(\"h2\", null, \"The Code\"), mdx(\"h3\", null, \"Setup\"), mdx(\"p\", null, \"This line needs to be somewhere before the meat of this:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"autoload -U add-zsh-hook\\n\")), mdx(\"h2\", null, \"The Functions\"), mdx(\"p\", null, \"Then the actual function/s:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"\\n# last non empty command entered is $lcmd\\nempty_command_preexec(){ ncmd=$1; }\\nadd-zsh-hook -Uz preexec empty_command_preexec\\nempty_command_precmd(){\\n  if [ \\\"$ncmd\\\" ]; then\\n      lcmd=$ncmd; ncmd=;\\n    else;\\n      exa -a -a -l\\n    fi;\\n  }\\nadd-zsh-hook -Uz precmd empty_command_precmd\\n\\n\")), mdx(\"p\", null, \"This code is actually mostly from a \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://unix.stackexchange.com/questions/515356/make-zsh-run-a-command-when-no-command-is-entered\"\n  }, \"StackOverflow article\"), \" but I thought it would go well with the directory changing function and wanted to remember how to do this anyway.\"), mdx(\"p\", null, \"It might be best to just make one document or page with the most helpful shell aliases/functions/tools I have and a list of resources/references.\"));\n}\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"<div style=\"position:relative\"><span style=\"position:absolute;margin-left:-1.5em;font-weight:300;font-size:1.5rem;color:#9b9b9b\">#</span><h1 id=\"ZSH%20Is%20Amazingly%20Powerful%20%2d%20Some%20More\" class=\"jsx-2373991563\"><a href=\"#ZSH%20Is%20Amazingly%20Powerful%20%2d%20Some%20More\" class=\"jsx-2373991563\">ZSH Is Amazingly Powerful - Some More</a></h1></div><p>This function will keep track of the commands entered. Including the previous command.</p><p>When the command is an empty string then it will provide a directory listing.</p><p>I am finding this to be useful when used along with the key binding I posted for changing to my repository directories.</p><p>Now, after I use my &quot;change to a repository directory&quot; keybinding, I am able to hit enter right away, which I had to anyway to get the new prompt line to show up, and I am now given a directory listing.</p><div style=\"position:relative\"><span style=\"position:absolute;margin-left:-1.5em;font-weight:300;font-size:1.5rem;color:#9b9b9b\">#</span><h2 id=\"The%20Code\" class=\"jsx-2373991563\"><a href=\"#The%20Code\" class=\"jsx-2373991563\">The Code</a></h2></div><div style=\"position:relative\"><span style=\"position:absolute;margin-left:-1.5em;font-weight:300;font-size:1.5rem;color:#9b9b9b\">#</span><h3 id=\"Setup\" class=\"jsx-2373991563\"><a href=\"#Setup\" class=\"jsx-2373991563\">Setup</a></h3></div><p>This line needs to be somewhere before the meat of this:</p><pre><code>autoload -U add-zsh-hook\n</code></pre><div style=\"position:relative\"><span style=\"position:absolute;margin-left:-1.5em;font-weight:300;font-size:1.5rem;color:#9b9b9b\">#</span><h2 id=\"The%20Functions\" class=\"jsx-2373991563\"><a href=\"#The%20Functions\" class=\"jsx-2373991563\">The Functions</a></h2></div><p>Then the actual function/s:</p><pre><code>\n# last non empty command entered is $lcmd\nempty_command_preexec(){ ncmd=$1; }\nadd-zsh-hook -Uz preexec empty_command_preexec\nempty_command_precmd(){\n  if [ &quot;$ncmd&quot; ]; then\n      lcmd=$ncmd; ncmd=;\n    else;\n      exa -a -a -l\n    fi;\n  }\nadd-zsh-hook -Uz precmd empty_command_precmd\n\n</code></pre><p>This code is actually mostly from a <a href=\"https://unix.stackexchange.com/questions/515356/make-zsh-run-a-command-when-no-command-is-entered\">StackOverflow article</a> but I thought it would go well with the directory changing function and wanted to remember how to do this anyway.</p><p>It might be best to just make one document or page with the most helpful shell aliases/functions/tools I have and a list of resources/references.</p>","scope":{"slug":"zsh-enter-cwd","title":"Using ZSH Hook Functions to print current directory on return key","date":"2020-12-30","author":"bebrws","tags":["zsh"]}}},"__N_SSG":true}