{"pageProps":{"title":"Unlocking My Front Door P1","dateString":"2022-03-20","slug":"unlocking-my-front-door-p1","description":"","tags":["reverse engineering","ios","HTTPS","HTTP","proxy","mitm","AWS","AWS Cognito","Cognito","Sniffing"],"author":"bebrws","source":{"compiledSource":"\"use strict\";\n\nvar _excluded = [\"components\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", null, \"Getting Control - What's the point?\"), mdx(\"h3\", null, \"Problem: I move somewhere with a fancy iOS enabled door lock. No SIRI/iOS integration though\"), mdx(\"h4\", null, \"Solution 1: Watch HTPS traffic and see what this iOS app does\"), mdx(\"h2\", null, \"MITM HTTPS Proxy\"), mdx(\"p\", null, \"First off, I of course decrypted the app, dissassembled, debugged and went searching for ways to swizzle something so I could call directly into some function that would toggle the lock/unlock.\"), mdx(\"p\", null, \"This turns out to be a hassle for me because this app is written in Swift/SwiftUI with minimal Objective-C. The dependencies were really the only thing written in Objective-C which meant the tooling and knowledge I had learned and used years ago wouldn't work well here. At least to me knowledge.\"), mdx(\"p\", null, \"Using Frida and doing a Cursory glance of the classes available I find Myself staring at a long list of mangled Swift names. For example:\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"\\\"_TtGC7Combine16PublishedSubjectGSqC7Kwikset30LockSettingToggleItemViewModel__\\\"\")), mdx(\"p\", null, \"So I decided to go with a different approach. I would watch the traffic and see what the app was doing. I would then try to replicate that in my own app.\"));\n}\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"<div style=\"position:relative\"><span style=\"position:absolute;margin-left:-1.5em;font-weight:300;font-size:1.5rem;color:#9b9b9b\">#</span><h2 id=\"Getting%20Control%20%2d%20What%27s%20the%20point%3f\" class=\"jsx-2373991563\"><a href=\"#Getting%20Control%20%2d%20What%27s%20the%20point%3f\" class=\"jsx-2373991563\">Getting Control - What&#x27;s the point?</a></h2></div><div style=\"position:relative\"><span style=\"position:absolute;margin-left:-1.5em;font-weight:300;font-size:1.5rem;color:#9b9b9b\">#</span><h3 id=\"Problem%3a%20I%20move%20somewhere%20with%20a%20fancy%20iOS%20enabled%20door%20lock%2e%20No%20SIRI%2fiOS%20integration%20though\" class=\"jsx-2373991563\"><a href=\"#Problem%3a%20I%20move%20somewhere%20with%20a%20fancy%20iOS%20enabled%20door%20lock%2e%20No%20SIRI%2fiOS%20integration%20though\" class=\"jsx-2373991563\">Problem: I move somewhere with a fancy iOS enabled door lock. No SIRI/iOS integration though</a></h3></div><div style=\"position:relative\"><span style=\"position:absolute;margin-left:-1.5em;font-weight:300;font-size:1.5rem;color:#9b9b9b\">#</span><h4 id=\"Solution%201%3a%20Watch%20HTPS%20traffic%20and%20see%20what%20this%20iOS%20app%20does\" class=\"jsx-2373991563\"><a href=\"#Solution%201%3a%20Watch%20HTPS%20traffic%20and%20see%20what%20this%20iOS%20app%20does\" class=\"jsx-2373991563\">Solution 1: Watch HTPS traffic and see what this iOS app does</a></h4></div><div style=\"position:relative\"><span style=\"position:absolute;margin-left:-1.5em;font-weight:300;font-size:1.5rem;color:#9b9b9b\">#</span><h2 id=\"MITM%20HTTPS%20Proxy\" class=\"jsx-2373991563\"><a href=\"#MITM%20HTTPS%20Proxy\" class=\"jsx-2373991563\">MITM HTTPS Proxy</a></h2></div><p>First off, I of course decrypted the app, dissassembled, debugged and went searching for ways to swizzle something so I could call directly into some function that would toggle the lock/unlock.</p><p>This turns out to be a hassle for me because this app is written in Swift/SwiftUI with minimal Objective-C. The dependencies were really the only thing written in Objective-C which meant the tooling and knowledge I had learned and used years ago wouldn&#x27;t work well here. At least to me knowledge.</p><p>Using Frida and doing a Cursory glance of the classes available I find Myself staring at a long list of mangled Swift names. For example:\n<code>&quot;_TtGC7Combine16PublishedSubjectGSqC7Kwikset30LockSettingToggleItemViewModel__&quot;</code></p><p>So I decided to go with a different approach. I would watch the traffic and see what the app was doing. I would then try to replicate that in my own app.</p>","scope":{"slug":"unlocking-my-front-door-p1","title":"Unlocking My Front Door P1","date":"2022-03-20","author":"bebrws","tags":["reverse engineering","ios","HTTPS","HTTP","proxy","mitm","AWS","AWS Cognito","Cognito","Sniffing"]}}},"__N_SSG":true}